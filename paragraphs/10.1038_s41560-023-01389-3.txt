Methods Preparation of 3D carbon The 3D carbon was prepared according to a literature procedure 32 . In brief, HY zeolite was first heated to 600 °C under a dry N 2 flow in a fused quartz reactor. Then, a mixture of ethylene gas and N 2 (volume ratio = 50:50) was passed through a water bubbler and fed into the zeolite bed at 600 °C for 30 min. The gas flow was switched to dry N 2

Electrochemical CO 2 reduction to ethanol The Sn-based tandem catalyst (denoted as SnS 2 /Sn 1 -O3G hereafter) was synthesized by a solvothermal method, the details of which are provided in Supplementary Figs. 1 and 2. Three-dimensional carbon foam derived from depositing ethylene onto a HY zeolite skeleton at 950 °C under ambient pressure was first prepared as the support to ensure a large surface area with good mass transport. Solvother- mal reaction was then carried out at 200 °C for 20 h to synthesize SnS 2 /Sn 1 -O3G, where SnBr 2 and thiourea were used as the Sn and S source, respectively. We first evaluated the electrochemical CO 2 RR performance of the SnS 2 /Sn 1 -O3G using chronoamperometry in an H-type cell filled with CO 2 -saturated 0.5 M KHCO 3 solution (Supplementary Figs. 3−8). Supplementary Fig. 5 provides typical current profiles obtained from the SnS 2 /Sn 1 -O3G, biased at various potentials from −0.6 to −1.1 V vs RHE in a CO 2 -saturated 0.5 M KHCO 3 solution. The gaseous and liquid products were analysed by an online gas chromatography and a nuclear magnetic resonance (NMR) spectroscopy (Supplementary Figs. 9–28). The results obtained from combination of geometric current density of the potentiostatic electrolysis of CO 2 over SnS 2 /Sn 1 -O3G and NMR spectral analysis (Supplementary Figs. 16–21) are presented in Fig. 1a,b. These data show that the catalyst reproducibly yielded ethanol with a Faradaic efficiency (FE) as high as 82.5% at −0.9 V RHE

Preparation of SnS 2 /Sn 1 -O3G The detailed preparation procedure of vertically aligned SnS 2 on Sn 1 -O3G is illustrated in Supplementary Fig. 2 in which 2 mmol SnBr 2 and 2 mmol thiourea were added into a mixed solution containing 20 ml of oleic acid and 2.5 ml of oleyamine under magnetic stirring at 80 °C for 8 h (SnS 2 precursor solution). Meanwhile, 20 mg 3D carbon was dispersed into 10 ml of isopropanol under magnetic stirring at room temperature, followed by addition into the SnS 2 precursor solu- tion under magnetic stirring at room temperature for 2 h. Then, the obtained solution was transferred to a 100 ml Teflon-lined stainless steel autoclave to perform solvothermal reaction at 200 °C for 20 h. After cooling down to room temperature, the solid product was washed with ethanol and deionized water, collected by centrifugation and dried in a vacuum oven for 24 h at 40 °C for further utilization (SnS 2 /Sn 1 -O3G).

Preparation of single-Sn atom catalyst The SnS 2 /Sn 1 -O3G was successively leached at 80 °C in 2 M HCl for 24 h to remove SnS 2 nanosheets and unstable species (Sn 1 -O3G).

Preparation of SnS 2 Two mmol SnBr 2 and 2 mmol thiourea were added into a mixed solution containing 20 ml of oleic acid and 2.5 ml of oleyamine under magnetic stirring at 80 °C for 8 h. Then, the solution was transferred to a 100 ml Teflon-lined stainless steel autoclave to perform solvothermal reaction at 200 °C for 20 h. After cooling down to room temperature, the solid prod- uct was washed with ethanol and deionized water, collected by centrifuga- tion and dried in a vacuum oven for 24 h at 40 °C for further utilization.
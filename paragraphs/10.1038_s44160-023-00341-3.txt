Methods Catalyst synthesis, and general experimental setup of the metallaphotocatalytic C−O coupling protocol Ni SA –nCN x was synthesized through a combined thermal polymeriza- tion-metal impregnation procedure, first featuring the polymerization of dicyanamide (by heating 10 g, under air, at 550 °C for 3 h, at a heat- ing rate of 10 °C min −1 ) yielded gCN x , and the resultant yellow powder then subjected to another heating step in air, in which 750 mg of gCN x was calcined at 520 °C for 4.5 h, using a heating rate of 2 °C min −1 , to afford the nCN x scaffold. The following step involved the impregnation of the photoactive nanosheet support with the nickel single atoms; Ni(NO 3 ) 2 ·6H 2 O in water (140 mg, 14 ml) was added to nCN x (350 mg), followed by sonication, addition of NaBH 4 (1.05 g dissolved in 5 ml of Millipore water), stirring, heating (12 h at 80 °C) and rapid microwave heating. The resulting solid was filtered, washed and dried to obtain Ni SA –nCN x . Ni SA –nCN x (5 mg), N-Boc-l-proline (0.45 mmol, 1.5 eq.), K 2 CO 3 (0.6 mmol, 2.0 eq.), solvent (3 ml) and a magnetic stirrer bar were transferred into a 4 ml vial equipped with a screw-cap rubber septum, which in turn functioned as the batch photoreactor. The reaction mix- ture was degassed with N 2 for 15 min, and 1-bromo-3-phenylpropane (0.30 mmol, 1.0 eq.) was then added dropwise. Photocatalytic batch experiments were irradiated for 8 h using a PhotoCube TM reactor, and product analysis was conducted using 1 H and 13 C NMR spectroscopy. During system optimization, quantitative analytical data on the con- version and product selectivity of the reaction mixture were obtained by taking a 30 µl aliquot, diluting it with MeCN, filtering it and subse- quently analysing it using high-performance liquid chromatography (HPLC). Further details concerning catalyst synthesis and characteriza- tion, the experimental setups employed and the overall metallapho- tocatalytic protocol can be found in ‘Materials and methods’ section in Supplementary Information.
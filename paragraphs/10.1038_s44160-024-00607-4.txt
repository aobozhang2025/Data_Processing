Synthesis of CDs  The CDs were synthesized according to our previously reported work41,42. Generally, heather leaves were used for the CD preparation based on a simple hydrothermal crystallization, and the synthesis of the CDs could be scaled up easily. In our strategy, CDs with small sizes and high surface-to-volume ratios were critical to achieve a high loading of atomically dispersed metal atoms. As such, we modified the reaction temperature and time to adjust the size distributions of CDs. Finally, CDs with particle size ranging from 5 to 10 nm (measured by HR-TEM) were obtained after hydrothermal crystallization, cooling, centrifugation, filtering and freeze-drying.  Synthesis of UHDNi–N–C SACs  In a typical synthesis of UHDNi–N–C SACs, 0.40 g of NiCl2·6H2O was added into 25 ml of CD solution (15 mg ml−1, with deionized water as the solvent) under continuous stirring to obtain a homogeneous solution. The obtained solution was quickly frozen in liquid nitrogen, followed by freeze-drying for 8 h. Next, the as-prepared solid powders were mixed with urea and thiourea, then ground into a homogeneous precursor. The optimized masses of urea and thiourea (mass ratio, 7:1) were determined based on many investigations. The powders were placed in a tubular quartz tube and heated at a rate of 5 °C min−1 to 800 °C in flowing Ar gas. After heating at 800 °C for 2 h, the solid product was allowed to naturally cool to room temperature. Finally, the obtained UHDNi–N–C SACs powders were collected for further detailed characterizations and electrochemical evaluations. By decreasing the amount of NiCl2·6H2O, a series of Ni–N–C SACs-x could be also prepared (x represents the Ni loading content estimated by ICP-OES).  Synthesis of other transition-, rare-earth- and noble-metal-based UHDM–N–C SACs  The preparation procedures for these UHDM–N–C SACs were similar to that for UHDNi–N–C SACs, except that the amount and type of metal-chloride salt was varied.  Synthesis of Ni3S2/NC  The preparation of Ni3S2/NC was similar to that of UHDNi–N–C SACs, except that the added amount of NiCl2·6H2O was increased.  Synthesis of control samples  To demonstrate the role of N-doping content in achieving an ultrahigh loading of Ni single atoms, various samples were prepared in the absence of urea, with 12.5% and 25% of the amount of urea typically used for the synthesis of UHDNi–N–C SACs. The obtained samples were denoted as no/UHDNi–N–C SACs, 12.5%/UHDNi–N–C SACs and 25%/UHDNi–N–C SACs, respectively.  Synthesis of quinary SACs  The synthesis process of quinary SACs was similar to that of UHDNi–NC SACs, except that five types of metal source were added.  Synthesis of vicenary SACs  The synthesis of vicenary SACs was similar to that of UHDNi–N–C SACs, except that 20 types of metal source were added.
Preparation of Ti 1 –rGO and rGO. The Ti 1 –rGO SAM sample was prepared via chemisorption route. First, 400 mg of graphite oxide was dispersed into 120 ml of isopropanol. Then, 20 μl of organic Ti salt (titanium diisopropoxide bis(acetylacetonate)) was added into the above solution with continuous magnetic stirring, followed by ultrasonic dispersion for 1 h and magnetic stirring for 20 h. Afterwards, the above dispersion solution was centrifuged and the resulting precipitation was dried at 85 °C in vacuum for 24 h. Thereafter, the obtained powder was calcinated at 550 °C for 2 h in a high-purity N 2 atmosphere. After cooling to room temperature, the fluffy black powder was Ti 1 –rGO SAM. Likewise, rGO could be obtained by the same steps without adding organic Ti salt.

Fabrication of modular C-PSCs. Here, 10 mg of carbon material (rGO or Ti 1 –rGO) was dispersed into 20 ml of isopropanol solution, followed by ball-milling for 12 h. The dispersion slurry for spraying was obtained. FTO glasses were etched with zinc powder and 4 M HCl, rinsed with cleaning fluid, deionized water, ethanol, acetone and isopropanol, respectively.

Fabrication of architecture FTO/c-TiO 2 /mp-TiO 2 /perovskite 1 . When the FTO glass was preheated to 450 °C, the compact TiO 2 layer was deposited on the FTO glass by a spray pyrolysis method (the carrier gas is O 2 ). The precursor solution of the compact TiO 2 layer (c-TiO 2 ) was diluted 600 μl of titanium diisopropoxide bis(acetylacetonate) and 400 μl of acetyl acetone with 9 ml of ethanol. After spray pyrolysis, the FTO/c-TiO 2 was sintered at 450 °C for 10 min before cooling down to room temperature. After that, mesoporous TiO 2 (mp-TiO 2 ) was deposited on the c-TiO 2 layer by spin coating for 20 s at 4,000 r.p.m. The precursor solution of m-TiO 2 was diluted the commercial TiO 2 paste (30NRD, Dyesol) with ethanol at a weight ratio of 1:6. The FTO/c-TiO 2 /mp-TiO 2 was heated at 450 °C for 30 min under dry air flow. To deposit the perovskite layer, one-step spin-coating method was adopted to prepare the Cs 0.05 FA 0.85 MA 0.10 Pb(I 0.97 Br 0.03 ) 3 perovskite layer with 5% excess of PbI 2 in 1 ml of mixed solvent of DMF and DMSO (4:1 volume ratio). Subsequently, 120 μl of perovskite solution was spin coated on the ETL via a two-step spin-coating programme with 2,000 r.p.m. for 10 s with an acceleration rate of 200 r.p.m. s−1 and 6,000 r.p.m. for 30 s with an acceleration rate of 2,000 r.p.m. s−1, respectively. Then 300 μl of antisolvent (chlorobenzene) was dropped on the spinning substrates 15 s before the end of programme, followed by annealing at 120 °C for 20 min.

Fabrication of architecture FTO/SnO 2 /perovskite 2 . The 0.1 M SnCl 2 2H 2 O isopropanol solution was refluxed at 85 °C for 3 h to obtain the SnO 2 sol for the ETL of PSCs. The prepared precursor was spin coated on the FTO glass at 2,000 r.p.m. for 30 s, followed by thermal treatment at 80 °C for 1 h in the air. After that, the as-deposited SnO 2 ETL was treated with UV-Ozoneor 20 min. To deposit the perovskite layer, one-step spin-coating method was adopted to prepare the Cs 0.05 ((FAPbI 3 ) 0.85 (MAPbBr 3 ) 0.15 ) 0.95 perovskite layer. Typically, FAI (1 M), PbI 2 (1.1 M), MABr (0.2 M) and PbBr 2 (0.2 M) were dissolved in 1 ml of mixed solvent of DMF and DMSO (4:1 volume ratio), and then stirred at 60 °C for 2 h. Next, 1 M CsI DMSO solution was added to the above perovskite precursor solution with a volume ratio of 5:95. Subsequently, 120 μl of perovskite solution was spin coated on the ETL via a two-step spin-coating programme with 1,000 r.p.m. for 10 s and 6,000 rpm for 30 s, respectively. Then 300 μl of antisolvent (α,α,α-trifluorotoluene) was dropped on the spinning substrates 20 s before the end of programme, followed by annealing at 85 °C for 45 min. The spiro-OMeTAD precursor solution was obtained via adding 72.3 mg of spiro-OMeTAD powder, 29 μl of TBP, 17.5 μl of Li-TFSI acetonitrile solution (520 mg ml−1) into chlorobenzene (1 ml). Afterwards, 50 μl of the spiro-OMeTAD solution was spin coated on the above perovskite films at 3,000 r.p.m. for 30 s. The semicell was obtained successfully. Then 500 μl of carbon slurry based on rGO or Ti 1 –rGO was sprayed on the above semicells (FTO/ETL/perovskite/HTL) and FTO substrates on a hotplate at 85 °C to accelerate solvent evaporation. The obtained semicell A (FTO/ETL/perovskite/HTL/carbon) and charge collector B (FTO/ carbon) were then assembled into modular C-PSC by being stacked together using retaining clips, and the overall thickness of graphene on two carbon electrodes was compressed to about 2 μm.